<svg
  eossu-fc-mousewheel
  (mousewheelUp)="onZoom($event, 'in')"
  (mousewheelDown)="onZoom($event, 'out')"
>
  <g *ngIf="initialized" class="workspace">
    <defs>
      <ng-container
        *ngIf="defsTemplate"
        [ngTemplateOutlet]="defsTemplate"
      ></ng-container>
    </defs>

    <ng-content></ng-content>

    <g class="edges">
      <g
        *ngFor="let edge of model.edges"
        eossu-fc-edge
        [edge]="edge"
        [attr.id]="edge.id"
      >
        <ng-container
          *ngIf="edgeTemplate"
          [ngTemplateOutlet]="edgeTemplate"
          [ngTemplateOutletContext]="{ $implicit: edge }"
        ></ng-container>

        <path
          *ngIf="!vertexTemplate"
          class="edge"
          [attr.d]="getEdgeAttributeSvgD(edge)"
        ></path>
      </g>
    </g>

    <g class="vertexes">
      <g
        *ngFor="let vertex of model.vertexs"
        eossu-fc-vertex
        [vertex]="vertex"
        [attr.id]="vertex.id"
      >
        >

        <ng-container
          *ngIf="vertexTemplate"
          [ngTemplateOutlet]="vertexTemplate"
          [ngTemplateOutletContext]="{ $implicit: vertex }"
        ></ng-container>

        <rect
          *ngIf="!vertexTemplate"
          x="vertex.x"
          y="vertex.y"
          height="vertex.height"
          width="vertex.width"
          rx="vertex.radius"
        />
      </g>
    </g>
  </g>

  <g class="minimap" *ngIf="minimap"><eossu-fc-minimap></eossu-fc-minimap></g>
</svg>
